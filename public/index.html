<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="css/style.css">
    <title>Login</title>

    <script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-firestore.js"></script>
    <!--firebase UIの読み込み-->
    <script src="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.js"></script>
    <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.css" />
    <script defer src="/__/firebase/init.js"></script>
  </head>
  
  <body>
    <div id="title">
    <h1>TextChat login</h1>
   </div>

   <div id="firebaseui-auth-container"></div>
   <div id="loader">Loading...</div>

   <script src="https://www.gstatic.com/firebasejs/5.3.1/firebase.js"></script>
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyALY9xdjJAhoLRN7b9gbYdnkPfqQGweAUM",
        authDomain: "textchat-68193.firebaseapp.com",
        projectId: "textchat-68193",
        storageBucket: "textchat-68193.appspot.com",
        messagingSenderId: "452943293425",
        appId: "1:452943293425:web:4e443f47fb2ab33f903250",
        measurementId: "G-NBDV9PG2QC"
      };
      firebase.initializeApp(config);
    </script>

<script type="text/javascript">
  var ui = new firebaseui.auth.AuthUI(firebase.auth());

  var uiConfig = {
    callbacks: {
      signInSuccessWithAuthResult: function(authResult, redirectUrl) {
        return true;
      },
      uiShown: function() {
        document.getElementById('loader').style.display = 'none';
      }
    },
    signInFlow: 'popup',
    signInSuccessUrl: '/top.html',
    signInOptions: [
      firebase.auth.GoogleAuthProvider.PROVIDER_ID,
      firebase.auth.EmailAuthProvider.PROVIDER_ID,
    ],
  };
  ui.start('#firebaseui-auth-container', uiConfig);
</script>

  </body>
</html>